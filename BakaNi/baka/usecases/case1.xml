<?xml version="1.0"?>

<specification>
    
    <constraints><![CDATA[
        //dipendente[@nome->$N, pos()->$P]/
            ../dipendente[@nome > $N, pos() < $P]
    ]]></constraint>

    <doctype><![CDATA[
        !doctype azienda ("!default", "rossi.xml") {
            azienda -> (nome) sede, amministrazione;
            amministrazione -> (budget) dipendente;
            sede -> (citta) reparto;
            reparto -> (nome, budget) dipendente;
            dipendente -> (nome, stipendio) incarico;
            incarico -> !PCDATA;
        }
    ]]></doctype>

    <append to='//reparto[@nome="ricerca e sviluppo"]'><![CDATA[
        <dipendente nome="?n" stipendio="?w">
            <incarico>?i</incarico>
        </dipendente>
    ]]></append>

</specification>